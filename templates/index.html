<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MetaScan v2.1 - Enhanced Metadata Analysis Tool</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p id="loadingMessage">Processing file...</p>
        </div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-shield-alt"></i>
                <h1>MetaScan</h1>
                <span class="version">v2.1</span>
            </div>
            <div class="tagline">
                <span class="glitch" data-text="ADVANCED METADATA ANALYSIS TOOL">ADVANCED METADATA ANALYSIS TOOL</span>
            </div>

            <!-- Info Button -->
            <div class="info-section">
                <button class="btn btn-info" id="infoBtn">
                    <i class="fas fa-info-circle"></i> CYBERSECURITY INFO
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Upload Section -->
            <section class="upload-section">
                <div class="upload-container">
                    <div class="upload-box" id="uploadBox">
                        <i class="fas fa-cloud-upload-alt upload-icon"></i>
                        <h3>Drop files here or click to upload</h3>
                        <p>Supported formats: PNG, JPG, JPEG, GIF, TIFF, BMP, WEBP</p>
                        <p class="size-limit">Maximum size: 16MB</p>
                        <input type="file" id="fileInput" accept=".png,.jpg,.jpeg,.gif,.tiff,.bmp,.webp" style="display: none;">
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" id="analyzeBtn">
                        <i class="fas fa-search"></i> ANALYZE
                    </button>
                    <button class="btn btn-secondary" id="removeMetadataBtn">
                        <i class="fas fa-eraser"></i> REMOVE METADATA
                    </button>
                </div>
            </section>

            <!-- Results Section -->
            <section class="results-section" id="resultsSection" style="display: none;">
                <!-- Privacy Score -->
                <div class="card privacy-score-card">
                    <h3><i class="fas fa-shield-alt"></i> Privacy Score</h3>
                    <div class="score-container">
                        <div class="score-circle" id="scoreCircle">
                            <span class="score-value" id="scoreValue">0</span>
                            <span class="score-max">/100</span>
                        </div>
                        <div class="score-status" id="scoreStatus">
                            <span class="status-text">CALCULATING...</span>
                        </div>
                    </div>
                    <div class="score-explanation">
                        <p><strong>Score Guide:</strong></p>
                        <p>ðŸŸ¢ 80-100: Excellent (Minimal risks)</p>
                        <p>ðŸŸ¡ 60-79: Good (Minor concerns)</p>
                        <p>ðŸŸ  40-59: Moderate (Notable issues)</p>
                        <p>ðŸ”´ 0-39: Critical (Significant risks)</p>
                    </div>
                </div>

                <!-- Risk Alerts -->
                <div class="card risks-card">
                    <h3><i class="fas fa-exclamation-triangle"></i> Security Risks</h3>
                    <div class="risks-container" id="risksContainer">
                        <div class="risk-item">
                            <i class="fas fa-spinner fa-spin"></i>
                            <span>Analyzing threats...</span>
                        </div>
                    </div>
                </div>

                <!-- Analysis Results Grid -->
                <div class="analysis-grid">
                    <!-- File Information -->
                    <div class="card">
                        <h4><i class="fas fa-file-alt"></i> File Information</h4>
                        <div class="data-container" id="fileInfo">
                            <div class="loading">Gathering file info...</div>
                        </div>
                    </div>

                    <!-- EXIF Metadata -->
                    <div class="card">
                        <h4><i class="fas fa-info-circle"></i> EXIF Metadata</h4>
                        <div class="data-container" id="exifData">
                            <div class="loading">Extracting metadata...</div>
                        </div>
                    </div>

                    <!-- GPS Location -->
                    <div class="card">
                        <h4><i class="fas fa-map-marker-alt"></i> GPS Location</h4>
                        <div class="data-container" id="gpsData">
                            <div class="loading">Checking location data...</div>
                        </div>
                    </div>

                    <!-- QR Codes -->
                    <div class="card">
                        <h4><i class="fas fa-qrcode"></i> QR Codes</h4>
                        <div class="data-container" id="qrData">
                            <div class="loading">Scanning for QR codes...</div>
                        </div>
                    </div>

                    <!-- Steganography -->
                    <div class="card">
                        <h4><i class="fas fa-eye-slash"></i> Steganography</h4>
                        <div class="data-container" id="stegoData">
                            <div class="loading">Detecting hidden data...</div>
                        </div>
                    </div>

                    <!-- Script Injection -->
                    <div class="card">
                        <h4><i class="fas fa-code"></i> Script Injection</h4>
                        <div class="data-container" id="scriptData">
                            <div class="loading">Checking for malicious code...</div>
                        </div>
                    </div>

                    <!-- File Validation -->
                    <div class="card">
                        <h4><i class="fas fa-file-medical"></i> File Validation</h4>
                        <div class="data-container" id="fileValidation">
                            <div class="loading">Validating file integrity...</div>
                        </div>
                    </div>

                    <!-- Hash Values -->
                    <div class="card">
                        <h4><i class="fas fa-fingerprint"></i> Hash Values</h4>
                        <div class="data-container" id="hashData">
                            <div class="loading">Calculating hashes...</div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <p>&copy; 2025 MetaScan v2.1. Enhanced metadata analysis with download functionality.</p>
                <div class="footer-links">
                    <a href="#" id="healthCheck"><i class="fas fa-heartbeat"></i> Health</a>
                    <a href="#" id="aboutLink"><i class="fas fa-shield-alt"></i> Security</a>
                    <a href="#" id="privacyLink"><i class="fas fa-user-secret"></i> Privacy</a>
                    <a href="https://github.com" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                </div>
            </div>
        </footer>
    </div>

    <!-- Cybersecurity Info Modal -->
    <div class="modal" id="infoModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-shield-alt"></i> Cybersecurity Concepts</h2>
                <span class="close" id="closeModal">&times;</span>
            </div>
            <div class="modal-body" id="modalBody">
                <div class="loading-spinner">
                    <div class="spinner"></div>
                    <p>Loading cybersecurity information...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Alert Container -->
    <div class="alert-container" id="alertContainer"></div>

    <script src="{{ url_for('static', filename='js/metascan.js') }}"></script>
</body>
</html>